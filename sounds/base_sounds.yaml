oscar:
  retrigger:
    duration: 1
    time: 0.3
    repeats: 4
    signal:
      osc:
        type: tri
        amp: 0.5
        duration: 0.05
        attack: 0.1
        release: 0.1
        freq:
          hold:
            signal: rand([500, 250, 150, 700, 1300, 4000])

chop:
  map:
    from: [-1, 1]
    to: [-6, 6]
    signal:
      context:
        c: rand(0, 14)
        signal:
          sample:
            speed: 1
            file: output/chopped9
            chop: 
              hold:
                signal: c

hihat:
  context:
    v: 1
    signal:
      expression:
        exp: v * signal
        signal:
          filter:
            duration: 0.25
            cutoff: [20000, 200]
            signal:
              osc:
                type: noise
                amp: [0.2, [0.1, 0.005], [0, 0.15]]
                attack: 0.001
                release: 1



kick:
  mix:
    signals:
      # Deep rumble - sub bass with aggressive pitch envelope
      - osc:
          type: sin
          freq: [420, [55, 0.02], [45, 0.15]]
          amp: 0.6
          attack: 0.001
          release: 0.6
          duration: 0.75
      
      # Body - mid bass with phase distortion for punch
      - osc:
          type: sin
          freq: [150, [55, 0.015]]
          amp: 0.3
          attack: 0.0001
          release: 0.25
          duration: 0.2
          phase:
            osc:
              type: sin
              freq: [250, [85, 0.015]]
              amp: [0.8, [0.1, 0.03]]
              attack: 0.0005
              release: 0.15
              duration: 0.2
      
      # Upper harmonics for clarity
      - osc:
          type: tri
          freq: [180, [110, 0.01]]
          amp: 0.01
          attack: 0.001
          release: 0.15
          duration: 0.2
      
      # Punch - aggressive click transient
      - osc:
          type: noise
          amp: 0.02
          attack: 0.0001
          release: 0.008
          duration: 0.004
      
      # Extra punch - high frequency click
      - osc:
          type: sin
          freq: [3500, [800, 0.003]]
          amp: 0.1
          attack: 0.0001
          release: 0.006
          duration: 0.01
      
      # Sub harmonic for extra weight
      - osc:
          type: sin
          freq: 40
          amp: 0.4
          attack: 0.002
          release: 0.5
          duration: 0.6

kick2:
  map:
    from: [-1, 1]
    to: [-2, 2]
    clip: [-1, 1]
    signal:
      mix:
        signals:
          - osc:
              attack: 0.01
              amp: 0.2
              release: 0.5
              duration: 0.3
              freq: [1000, [20, 0.04]]
          - osc:
              type: noise
              amp: 0.02
              attack: 0.0001
              release: 0.02
              duration: 0.01
          - osc:
              amp: 0.5
              attack: 0.2
              release: 0.5
              duration: 0.8
              freq: 50
              phase:
                osc:
                  amp: 0.5
                  attack: 0.1
                  release: 0.5
                  duration: 0.8
                  freq: 50
          - osc:
              type: tri
              amp: 0.02
              attack: 0.01
              release: 0.5
              duration: 0.3
              freq: 100
          - osc:
              type: tri
              amp: 0.005
              attack: 0.01
              release: 0.5
              duration: 0.3
              freq: 130
          - osc:
              type: sqr
              amp: 0.01
              attack: 0.01
              release: 0.5
              duration: 0.4
              freq: 18

